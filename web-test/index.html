<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Three.js AR</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min.js"></script>
    <style>
      #marker {
        width: 200px;
        height: 200px;
        border: 2px solid black;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      #add-cube-btn {
        position: absolute;
        top: 10px;
        left: 10px;
      }
    </style>
  </head>
  <body>
    <div id="marker">
      <!-- Вставьте здесь изображение маркера -->
    </div>
    <button id="add-cube-btn">Добавить куб</button>
    <script>
      // Создаем сцену и добавляем камеру в сцену
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.z = 5;
      scene.add(camera);
      
      // Создаем рендерер
      const renderer = new THREE.WebGLRenderer({ alpha: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);
      
      // Создаем куб и добавляем его в сцену
      const geometry = new THREE.BoxGeometry(1, 1, 1);
      const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
      const cube = new THREE.Mesh(geometry, material);
      scene.add(cube);
      
      // Создаем маркер
      const marker = new THREE.Group();
      marker.position.z = -5;
      scene.add(marker);
      
      // Добавляем обработчик события на кнопку
      const addCubeBtn = document.querySelector('#add-cube-btn');
      addCubeBtn.addEventListener('click', () => {
        // Создаем новый куб
        const newCube = cube.clone();
        newCube.position.x = Math.random() * 4 - 2;
        newCube.position.y = Math.random() * 4 - 2;
        marker.add(newCube);
      });
      
      // Создаем функцию рендеринга сцены
      function render() {
        requestAnimationFrame(render);
        renderer.render(scene, camera);
      }
      render();
    </script>
  </body>
</html>
