html,body{margin:0;padding:0;height:100%;background:#0b0f14;overflow:hidden;touch-action:none;user-select:none;-webkit-user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent}*{user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent}canvas{display:block;width:100%;height:100%;touch-action:none}.hud{position:fixed;left:10px;top:74px;color:#cfe0f3;font:12px/1.3 system-ui,-apple-system,Segoe UI,Roboto,Arial;opacity:.9;display:flex;flex-direction:column;gap:2px}.hud-right{position:fixed;right:10px;top:30px;color:#cfe0f3;font:12px/1.3 system-ui,-apple-system,Segoe UI,Roboto,Arial;opacity:.95;text-align:right}#scoreHud{font-size:16px;font-weight:600}#timeHud{font-size:12px;color:#b6c9e6;font-weight:600}#remainingHud{position:fixed;top:30px;left:50%;transform:translate(-50%);font:600 16px/1.3 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#8fc9a3;padding:6px 16px;background:#0a0f16b3;border:1px solid rgba(160,190,220,.2);border-radius:20px;backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);z-index:5;transition:color .3s ease,background .3s ease}#remainingHud.warning{color:#ff6b6b;background:#3c1414bf;border-color:#ff64644d;animation:pulse-warning .5s ease-in-out infinite alternate}@keyframes pulse-warning{0%{opacity:.7}to{opacity:1}}.hud-right canvas{margin-top:6px;background:#0a0f168c;border:1px solid rgba(160,190,220,.2);border-radius:6px}.overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#070a0efa;color:#e6f0ff;font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Arial;text-align:center;z-index:10000;backdrop-filter:blur(4px);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;user-select:none}.overlay.hidden{display:none}.panel{background:#0a0f16d9;border:1px solid rgba(160,190,220,.2);border-radius:12px;padding:18px 22px;min-width:240px;box-shadow:0 10px 24px #00000059}.panel h2{margin:0 0 8px;font-size:20px;font-weight:600}.panel h2#overlayTitle{font-size:48px;font-weight:900;margin:0 0 20px;line-height:1.1;letter-spacing:3px}.title-elemental{display:inline-block;background:linear-gradient(90deg,#ff4d4d 0% 20%,#4da6ff 30% 50%,#ffd84d 60% 80%,#47d16a 90% 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;filter:drop-shadow(0 0 8px rgba(255,255,255,.4)) drop-shadow(0 2px 4px rgba(0,0,0,.6));text-shadow:0 0 30px rgba(255,255,255,.2)}.title-blocks{display:inline-block;color:#fff;text-shadow:0 0 15px rgba(255,255,255,.9),0 0 30px rgba(160,190,220,.7),0 0 45px rgba(100,150,220,.5),0 3px 6px rgba(0,0,0,.9);font-weight:900;letter-spacing:4px;margin-left:8px}.panel p{margin:6px 0;color:#b6c9e6}.panel:not(.start-panel):not(.settings-panel):not(.pause-panel):not(.gameover-panel) button{margin-top:10px;padding:8px 14px;border-radius:8px;border:0;background:#3b6dd8;color:#fff;font-weight:600;cursor:pointer}.panel:not(.start-panel):not(.settings-panel):not(.pause-panel):not(.gameover-panel) button:active{transform:translateY(1px)}.settings-btn{position:fixed;left:10px;top:30px;width:36px;height:36px;border-radius:6px;border:1px solid rgba(160,190,220,.35);background:#0e141cd9;color:#cfe0f3;font:20px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;cursor:pointer;z-index:4}.settings-btn:active{transform:translateY(1px)}.pause-btn{position:fixed;left:16px;top:20px;width:40px;height:40px;border-radius:50%;border:1.5px solid rgba(160,190,220,.3);background:transparent;color:#8fa8c8;font-size:18px;cursor:pointer;z-index:4;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:transparent;-webkit-appearance:none;appearance:none;outline:none}.pause-btn:active{transform:translateY(1px)}.pause-btn.hidden{display:none}#pauseOverlay{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;user-select:none}.pause-panel{position:relative;overflow:hidden;width:min(560px,95vw);height:min(980px,95vh);border-radius:28px;background:#0a0f16b8;border:1px solid rgba(160,190,220,.22);box-shadow:0 22px 60px #0000008c;padding:18px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}@keyframes pauseIn{to{transform:translateY(0) scale(1);opacity:1}}.pause-panel .ringlines,.settings-panel .ringlines,.gameover-panel .ringlines{position:absolute;inset:-40px;pointer-events:none;opacity:.18;filter:blur(.2px);background:repeating-linear-gradient(175deg,#e6f0ff24 0px 2px,#0000 40px 70px);mask-image:radial-gradient(closest-side,#000,#0003,#0000)}@keyframes ringDrift{0%{transform:translateY(0)}to{transform:translateY(-120px)}}.pause-side-btns{position:absolute;top:20px;left:16px;display:flex;flex-direction:column;gap:12px;z-index:3}.pause-circle{-webkit-appearance:none;appearance:none;width:40px;height:40px;padding:0;border:1.5px solid rgba(160,190,220,.3);border-radius:50%;background:transparent;color:#8fa8c8;font-size:18px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:transparent;outline:none}.pause-circle:active{transform:translateY(1px)}.pause-circle.off{color:#a0bedc59;border-color:#a0bedc2e}.pause-content{position:relative;z-index:2;height:100%;display:flex;flex-direction:column;justify-content:flex-start;gap:12px;padding:20px 24px 140px;overflow-y:auto}.pause-title{text-align:center;font-weight:950;font-size:36px;letter-spacing:.18em;color:#e6f0ffeb;margin-top:60px;margin-bottom:12px;text-shadow:0 0 14px rgba(255,255,255,.1),0 18px 40px rgba(0,0,0,.55)}.pause-score-grid{display:grid;gap:10px;max-width:460px}.pause-score-card{border-radius:18px;border:1px solid rgba(160,190,220,.18);background:#080c1247;padding:12px 14px 10px;position:relative;overflow:hidden;box-shadow:0 14px 36px #0006;text-align:left}.pause-score-card.best{border-color:#ffd84d38;box-shadow:0 18px 44px #00000073,0 0 22px #ffd84d1a;background:radial-gradient(520px 140px at 30% 0%,#ffd84d1a,#0000 65%),#080c124d}.pause-score-card.current{border-color:#4da6ff33;box-shadow:0 18px 44px #00000073,0 0 18px #4da6ff14;background:radial-gradient(520px 140px at 30% 0%,#4da6ff14,#0000 65%),#080c1247}.pause-score-top{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}.pause-label{font-weight:900;letter-spacing:.12em;text-transform:uppercase;font-size:12px;color:#e6f0ffd1;opacity:.92}.pause-pill{font-size:12px;font-weight:900;letter-spacing:.08em;padding:7px 11px;border-radius:999px;border:1px solid rgba(160,190,220,.18);color:#e6f0ffcc;background:#00000029;display:flex;align-items:center;gap:7px;white-space:nowrap}.pause-pill.best{border-color:#ffd84d38;color:#ffd84df2}.pause-pill.cur{border-color:#4da6ff33;color:#bedcffeb}.pause-big-score{font-size:42px;font-weight:950;letter-spacing:2px;color:#fff;text-shadow:0 0 12px rgba(255,255,255,.14),0 14px 30px rgba(0,0,0,.55);margin-bottom:6px}.pause-meta-row{display:flex;justify-content:space-between;gap:12px;color:#8fa8c8;font-weight:760;opacity:.95}.pause-meta-row small{opacity:.9;font-weight:850}.pause-actions{position:fixed;bottom:80px;left:50%;transform:translate(-50%);display:flex;justify-content:center;gap:24px;z-index:10}.pause-action-btn{width:64px;height:64px;border-radius:999px;border:1px solid rgba(160,190,220,.32);background:#080c1242;color:#e6f0ffb8;display:grid;place-items:center;box-shadow:0 14px 30px #00000059;cursor:pointer;padding:0;font-size:26px;-webkit-tap-highlight-color:transparent;-webkit-appearance:none;appearance:none;outline:none}.pause-action-btn:active{transform:translateY(1px)}.confirm-dialog{position:absolute;inset:0;z-index:10;display:flex;align-items:center;justify-content:center;background:#00000080;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px)}.confirm-dialog.hidden{display:none}.confirm-box{background:#0a0f16f2;border:1px solid rgba(160,190,220,.25);border-radius:20px;padding:24px 32px;text-align:center;box-shadow:0 20px 50px #00000080}.confirm-text{color:#e6f0ffe6;font-size:16px;font-weight:600;margin-bottom:20px;letter-spacing:.02em}.confirm-buttons{display:flex;justify-content:center;gap:24px}.confirm-btn{width:52px;height:52px;border-radius:50%;border:1.5px solid rgba(160,190,220,.3);background:transparent;font-size:22px;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:transparent;-webkit-appearance:none;appearance:none;outline:none}.confirm-btn.cancel{color:#ff6b6b;border-color:#ff6b6b59}.confirm-btn.cancel:active{background:#ff6b6b26}.confirm-btn.ok{color:#47d16a;border-color:#47d16a59}.confirm-btn.ok:active{background:#47d16a26}@media(max-width:480px),(hover:none){.pause-btn{top:calc(16px + env(safe-area-inset-top,0));left:calc(12px + env(safe-area-inset-left,0));width:44px;height:44px}#pauseOverlay{align-items:stretch;padding:0}.pause-panel{width:100%;max-width:none;height:100%;min-height:100%;border-radius:0;padding:18px;padding-top:calc(18px + env(safe-area-inset-top,0));padding-bottom:calc(18px + env(safe-area-inset-bottom,0))}.pause-content{padding:16px 20px 120px;overflow-y:auto;-webkit-overflow-scrolling:touch}.pause-title{font-size:28px;margin-top:80px;margin-bottom:10px}.pause-big-score{font-size:34px}.pause-side-btns{top:calc(16px + env(safe-area-inset-top,0));left:calc(12px + env(safe-area-inset-left,0));gap:10px}.pause-circle{width:44px;height:44px}.pause-actions{bottom:calc(60px + env(safe-area-inset-bottom,0))}.pause-action-btn{width:58px;height:58px;font-size:24px}}@media(prefers-reduced-motion:reduce){.pause-panel,.pause-panel .ringlines,.settings-panel,.settings-panel .ringlines,.gameover-panel,.gameover-panel .ringlines,.start-panel{animation:none!important}.pause-panel,.start-panel,.gameover-panel,.settings-panel{opacity:1;transform:none}}#settingsOverlay{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.settings-panel{position:relative;overflow:hidden;width:min(560px,95vw);height:min(980px,95vh);border-radius:28px;background:#0a0f16b8;border:1px solid rgba(160,190,220,.22);box-shadow:0 22px 60px #0000008c;padding:18px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);-webkit-tap-highlight-color:transparent}.settings-content{position:relative;z-index:2;height:100%;display:flex;flex-direction:column;padding:20px 24px 140px;overflow-y:auto}.settings-title{text-align:center;font-weight:950;font-size:36px;letter-spacing:.18em;background:linear-gradient(180deg,#e6f0ff 40%,#8fa8c8);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;text-shadow:none;margin-top:40px;margin-bottom:30px}.settings-tabs{position:relative;z-index:1;flex-shrink:0;display:flex;gap:12px;margin-bottom:20px}.tab-btn{-webkit-appearance:none;appearance:none;flex:1;padding:12px 10px;border:1px solid rgba(160,190,220,.18);border-radius:14px;background:#0a0f168c;color:#b6c9e6;font:700 13px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;cursor:pointer;transition:border-color .12s ease,background .12s ease,box-shadow .12s ease;-webkit-tap-highlight-color:transparent}.tab-btn:focus{outline:none}.tab-btn.active{border-color:#a0bedc59;background:#0a0f16bf;box-shadow:0 0 14px #4d82dc26;color:#e6f0ff}.tab-content{position:relative;z-index:1;display:none;flex:1 1 auto;min-height:0;overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px 0}.tab-content.active{display:flex;flex-direction:column}.settings-desc{margin:6px 0;color:#b6c9e6;text-align:left;font-size:13px;line-height:1.4}.settings-row{display:flex;align-items:center;justify-content:space-between;padding:12px 0;border-bottom:1px solid rgba(160,190,220,.1)}.settings-row-sep{border-top:1px solid rgba(160,190,220,.15);padding-top:14px;margin-top:8px}.settings-row:last-child{border-bottom:none}.settings-label{color:#b6c9e6;font-size:13px}.settings-action-btn{-webkit-appearance:none;appearance:none;padding:8px 16px;border-radius:12px;border:1px solid rgba(160,190,220,.28);background:#0c121cd9;color:#e6f0ff;font:700 13px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;cursor:pointer;-webkit-tap-highlight-color:transparent}.settings-action-btn:focus{outline:none}.settings-action-btn:active{transform:translateY(1px)}.settings-actions{position:fixed;bottom:80px;left:50%;transform:translate(-50%);display:flex;justify-content:center;z-index:10}.settings-action-circle{-webkit-appearance:none;appearance:none;width:56px;height:56px;border-radius:50%;border:1.5px solid rgba(160,190,220,.3);background:transparent;color:#8fa8c8;font-size:24px;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:transparent}.settings-action-circle:focus{outline:none}.settings-action-circle:active{background:#a0bedc1a}.difficulty-options{display:flex;flex-direction:column;gap:8px;margin-top:8px}.diff-btn{padding:10px 14px;border-radius:8px;border:1px solid rgba(160,190,220,.25);background:#1e283780;color:#b6c9e6;font:13px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;cursor:pointer;text-align:left;display:flex;justify-content:space-between;align-items:center}.diff-btn:hover:not(.locked){background:#32415599}.diff-btn.active{background:#3c64b466;border-color:#6496dc80;color:#e6f0ff}.diff-btn.locked{opacity:.5;cursor:not-allowed}.diff-btn .lock-icon{font-size:14px}.diff-btn .check-icon{color:#8fd9a8}.ios-hint{margin-top:10px;padding:10px;background:#3c50644d;border-radius:6px;font-size:12px;color:#8fa8c8;line-height:1.4}.ios-hint b{color:#b6c9e6}.standalone-badge{display:inline-block;padding:4px 8px;background:#50a0504d;border-radius:4px;color:#8fd9a8;font-size:11px;margin-top:8px}.toggle-switch{position:relative;width:44px;height:24px;background:#3c4655cc;border-radius:12px;cursor:pointer;transition:background .2s}.toggle-switch.active{background:#3c78b4b3}.toggle-switch:after{content:"";position:absolute;top:2px;left:2px;width:20px;height:20px;background:#cfe0f3;border-radius:50%;transition:transform .2s}.toggle-switch.active:after{transform:translate(20px)}.volume-control{display:flex;gap:4px}.volume-btn{width:32px;height:28px;border-radius:4px;border:1px solid rgba(160,190,220,.25);background:#1e283780;color:#8fa8c8;font:12px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;cursor:pointer;transition:all .15s}.volume-btn:hover{background:#32415599}.volume-btn.active{background:#3c78b499;border-color:#6496dc80;color:#e6f0ff;font-weight:600}.bonus-popup{position:fixed;pointer-events:none;font:700 18px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;text-shadow:0 2px 8px rgba(0,0,0,.7),0 0 4px rgba(0,0,0,.5);z-index:100;animation:bonusFloat 1.8s ease-out forwards;white-space:nowrap}.bonus-popup.score{color:#fff}.bonus-popup.time{color:#5ae08a}.bonus-popup.charge{color:#ffd84d}.bonus-popup.ring{color:#ff9f43;font-size:24px;font-weight:800}.bonus-popup.line,.bonus-popup.pair{font-size:20px;font-weight:700}.bonus-popup.combo{font-size:28px;font-weight:900;color:#ffd84d;text-shadow:0 0 12px rgba(255,216,77,.8),0 2px 8px rgba(0,0,0,.7);animation:bonusFloatCombo 2.2s ease-out forwards}.bonus-popup.cascade{font-size:26px;font-weight:900;color:#ff6b9d;text-shadow:0 0 12px rgba(255,107,157,.8),0 2px 8px rgba(0,0,0,.7);animation:bonusFloatCascade 2.2s ease-out forwards}@keyframes bonusFloatCombo{0%{opacity:0;transform:translateY(15px) scale(.6)}10%{opacity:1;transform:translateY(-5px) scale(1.3)}20%{transform:translateY(-12px) scale(1.1)}70%{opacity:1}to{opacity:0;transform:translateY(-60px) scale(.9)}}@keyframes bonusFloatCascade{0%{opacity:0;transform:translateY(15px) scale(.6)}10%{opacity:1;transform:translateY(-5px) scale(1.25)}20%{transform:translateY(-12px) scale(1.05)}70%{opacity:1}to{opacity:0;transform:translateY(-60px) scale(.9)}}@keyframes bonusFloat{0%{opacity:0;transform:translateY(15px) scale(.7)}12%{opacity:1;transform:translateY(0) scale(1.15)}25%{transform:translateY(-8px) scale(1)}65%{opacity:1}to{opacity:0;transform:translateY(-50px)}}.controls-right{position:fixed;right:12px;bottom:12px;display:flex;flex-direction:column;gap:10px;z-index:3}.control-btn{width:54px;height:54px;border-radius:50%;border:1px solid rgba(160,190,220,.35);background:#0e141cd9;color:#cfe0f3;font:20px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;cursor:pointer;display:flex;align-items:center;justify-content:center;user-select:none}.control-btn:active{transform:translateY(1px)}.color-row{position:fixed;left:10px;bottom:12px;display:flex;gap:8px;z-index:3}.color-btn{width:46px;height:46px;border-radius:999px;border:2px solid rgba(160,190,220,.35);background:#0e141cd9;display:flex;align-items:center;justify-content:center;cursor:pointer;position:relative;font:700 14px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5)}.color-btn.active{border-color:#fff;box-shadow:0 0 8px #ffffff80}.color-btn.empty{opacity:.4;cursor:default}.color-btn .charges{position:absolute;z-index:1}.go-score{font-size:32px;font-weight:700;color:#fff;margin:4px 0}.go-time{font-size:14px;color:#8fa8c8;margin-bottom:12px}.go-stats{display:flex;flex-wrap:wrap;justify-content:center;gap:10px 14px;margin:12px 0;font-size:14px}.go-stats span{background:#3c506480;padding:4px 10px;border-radius:6px;color:#cfe0f3}.go-stats span:hover{background:#50647899}.go-version{font-size:11px;color:#5a7090;margin-top:8px}.intro-survival{font-size:13px;color:#8fa8c8;margin-bottom:10px}.intro-box{border:1px solid rgba(160,190,220,.25);border-radius:8px;padding:10px 14px;background:#1e283780}.intro-box-title{font-size:12px;color:#7a9abc;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}.intro-rules{display:flex;flex-direction:column;gap:6px}.rule-row{display:flex;align-items:center;gap:10px}.dots{display:flex;gap:3px;min-width:70px;justify-content:flex-end}.dots.ring{font-size:16px;color:#cfe0f3}.dot{width:11px;height:11px;border-radius:50%;display:inline-block}.dot.r{background:#ff4d4d}.dot.b{background:#4da6ff}.dot.y{background:#ffd84d}.dot.g{background:#47d16a}.rule-text{min-width:75px;text-align:left;color:#cfe0f3;font-size:13px}.rule-text small{color:#6a8aac;font-size:10px;margin-left:3px}.rule-time{color:#5a9a7a;font-size:12px;min-width:35px}.intro-version{font-size:11px;color:#5a7090;margin-top:12px}.intro-highscore{font-size:14px;color:#ffd84d;font-weight:600;margin-bottom:8px;text-shadow:0 0 8px rgba(255,216,77,.5)}.intro-highscore small{font-size:11px;color:#8fa8c8;font-weight:400}.magic-orb{position:fixed;pointer-events:none;font-size:24px;z-index:150;filter:drop-shadow(0 0 8px currentColor);animation:magicOrbFly .7s cubic-bezier(.2,.8,.3,1) forwards}.magic-orb.fire{color:#ff4d4d;text-shadow:0 0 12px #ff4d4d,0 0 24px #ff6b6b}.magic-orb.water{color:#4da6ff;text-shadow:0 0 12px #4da6ff,0 0 24px #6bb8ff}.magic-orb.lightning{color:#ffd84d;text-shadow:0 0 12px #ffd84d,0 0 24px #ffe066}.magic-orb.earth{color:#47d16a;text-shadow:0 0 12px #47d16a,0 0 24px #5de080}@keyframes magicOrbFly{0%{opacity:1;transform:translate(0) scale(1.2)}50%{opacity:1;transform:translate(var(--mid-x),var(--mid-y)) scale(1)}to{opacity:.6;transform:translate(var(--end-x),var(--end-y)) scale(.6)}}@keyframes magicBtnPulse{0%{transform:scale(1);filter:brightness(1)}30%{transform:scale(1.2);filter:brightness(1.5)}60%{transform:scale(1.1);filter:brightness(1.3)}to{transform:scale(1);filter:brightness(1)}}.start-panel{width:min(560px,95vw);height:min(980px,95vh);border-radius:28px;background:#0a0f16b8;border:1px solid rgba(160,190,220,.22);box-shadow:0 22px 60px #0000008c;position:relative;overflow:hidden;padding:18px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;user-select:none}.start-panel button,.start-panel a{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;outline:none}.start-panel button:focus,.start-panel a:focus{outline:none}.gameover-panel{position:relative;overflow:hidden;width:min(560px,95vw);height:min(980px,95vh);border-radius:28px;background:#0a0f16b8;border:1px solid rgba(160,190,220,.22);box-shadow:0 22px 60px #0000008c;padding:18px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.gameover-panel.hidden,.start-panel.hidden{display:none}.gameover-content{position:relative;z-index:2;height:100%;display:flex;flex-direction:column;justify-content:flex-start;gap:12px;padding:20px 24px 140px;overflow-y:auto}.gameover-title{text-align:center;font-weight:950;font-size:36px;letter-spacing:.18em;color:#ff6464f2;margin-top:20px;margin-bottom:12px;text-shadow:0 0 14px rgba(255,100,100,.2),0 18px 40px rgba(0,0,0,.55)}.gameover-score-grid{display:grid;gap:12px;max-width:460px;margin:0 auto;width:100%}.gameover-score-card{border-radius:18px;border:1px solid rgba(160,190,220,.18);background:#080c1247;padding:14px 16px 12px;position:relative;overflow:hidden;box-shadow:0 14px 36px #0006;text-align:left}.gameover-score-card.final{border-color:#ffd84d38;box-shadow:0 14px 36px #0006,0 0 18px #ffd84d14;background:radial-gradient(400px 100px at 50% 0%,#ffd84d14,#0000 65%),#080c124d;text-align:center}.gameover-score-card.stats{border-color:#4da6ff2e}.gameover-score-top{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:6px}.gameover-label{font-weight:900;letter-spacing:.12em;text-transform:uppercase;font-size:12px;color:#e6f0ffd1;opacity:.92}.gameover-pill{font-size:12px;font-weight:900;letter-spacing:.08em;padding:6px 10px;border-radius:999px;border:1px solid rgba(160,190,220,.18);color:#e6f0ffcc;background:#00000029;display:flex;align-items:center;gap:6px}.gameover-big-score{font-size:48px;font-weight:950;letter-spacing:2px;color:#fff;text-shadow:0 0 12px rgba(255,255,255,.14),0 14px 30px rgba(0,0,0,.55);margin-bottom:4px}.gameover-record{color:#ffd84df2;font-size:14px;font-weight:700;letter-spacing:.1em}.gameover-record.hidden{display:none}@keyframes recordPulse{0%,to{opacity:1}50%{opacity:.6}}.gameover-stats-title{font-weight:900;letter-spacing:.12em;text-transform:uppercase;font-size:11px;color:#e6f0ffb3;text-align:center;margin-bottom:10px}.gameover-stats-grid{display:grid;gap:6px}.gameover-stat-row{display:flex;align-items:center;gap:10px;font-size:13px;color:#e6f0ffd9}.gameover-stat-row .dots{font-size:16px}.gameover-stat-row .name{flex:1;font-weight:600}.gameover-stat-row .count{font-weight:700;color:#e6f0fff2}.gameover-stat-row .bonus-combo{color:#ffd84d;font-size:12px;font-weight:700}.gameover-stat-row .bonus-cascade{color:#ff6b9d;font-size:12px;font-weight:700}.gameover-actions{position:fixed;bottom:80px;left:50%;transform:translate(-50%);display:flex;justify-content:center;gap:24px;z-index:10}.gameover-action-btn{width:64px;height:64px;border-radius:999px;border:1.5px solid rgba(160,190,220,.3);background:transparent;color:#8fa8c8;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;font-size:26px;-webkit-tap-highlight-color:transparent;-webkit-appearance:none;appearance:none;outline:none}.gameover-action-btn:active{transform:translateY(1px)}@media(max-width:480px),(hover:none){.gameover-panel{width:100%;max-width:none;height:100%;min-height:100%;border-radius:0;padding:18px;padding-top:calc(18px + env(safe-area-inset-top,0));padding-bottom:calc(18px + env(safe-area-inset-bottom,0))}.gameover-content{padding:16px 20px 120px;overflow-y:auto;-webkit-overflow-scrolling:touch}.gameover-title{font-size:28px;margin-top:20px}.gameover-big-score{font-size:40px}.gameover-actions{bottom:calc(60px + env(safe-area-inset-bottom,0))}.gameover-action-btn{width:58px;height:58px;font-size:24px}}.menu-aura{position:absolute;inset:-30%;z-index:0;pointer-events:none;filter:blur(22px);opacity:.9;transform:translateZ(0)}.menu-aura:before,.menu-aura:after{content:"";position:absolute;inset:0;background:radial-gradient(520px 380px at 30% 22%,#ff4d4d2e,#0000 62%),radial-gradient(620px 440px at 72% 26%,#4da6ff24,#0000 64%),radial-gradient(620px 520px at 55% 78%,#47d16a1a,#0000 66%)}.menu-aura:after{opacity:.7}@keyframes auraFloat{0%{transform:translate(-1.2%,-.8%) scale(1)}to{transform:translate(1.2%,.9%) scale(1.03)}}@keyframes auraPulse{0%,to{transform:scale(1);opacity:.55}50%{transform:scale(1.06);opacity:.85}}.spark-layer{position:absolute;inset:0;z-index:0;pointer-events:none;opacity:.65;background:radial-gradient(2px 2px at 12% 28%,rgba(255,255,255,.16),transparent 60%),radial-gradient(2px 2px at 82% 22%,rgba(255,216,77,.14),transparent 60%),radial-gradient(2px 2px at 66% 52%,rgba(77,166,255,.1),transparent 60%),radial-gradient(2px 2px at 28% 74%,rgba(255,77,77,.1),transparent 60%),radial-gradient(2px 2px at 84% 78%,rgba(71,209,106,.08),transparent 60%)}@keyframes sparkDrift{0%{transform:translateY(0);opacity:.55}50%{transform:translateY(-10px);opacity:.75}to{transform:translateY(0);opacity:.55}}.pento-layer{position:absolute;inset:0;z-index:0;pointer-events:none;opacity:.55;mix-blend-mode:screen;filter:blur(.2px)}.pento-svg{width:100%;height:100%;opacity:.9}.pento-stroke{fill:none;stroke:#e6f0ff1a;stroke-width:2;stroke-linejoin:round}.pento{opacity:.85}.g1 .pento-stroke{stroke:#ff4d4d1f}.g2 .pento-stroke{stroke:#4da6ff1c}.g3 .pento-stroke{stroke:#ffd84d1c}.g4 .pento-stroke{stroke:#47d16a1a}.g1,.g2,.g3,.g4{animation:none}@keyframes pentodrift1{0%{transform:translate(48px,92px) rotate(-14deg) scale(1)}to{transform:translate(42px,86px) rotate(-10deg) scale(1.03)}}@keyframes pentodrift2{0%{transform:translate(110px,210px) rotate(10deg) scale(1)}to{transform:translate(118px,202px) rotate(6deg) scale(1.02)}}@keyframes pentodrift3{0%{transform:translate(334px,130px) rotate(18deg) scale(1)}to{transform:translate(326px,138px) rotate(22deg) scale(1.03)}}@keyframes pentodrift4{0%{transform:translate(330px,270px) rotate(-8deg) scale(1)}to{transform:translate(338px,262px) rotate(-4deg) scale(1.02)}}.start-title{position:relative;text-align:center;padding:40px 6px 10px;z-index:1}.start-title h1{margin:0;line-height:1.08;letter-spacing:3px;font-weight:950;font-size:57px}.start-title .title-elemental{display:inline-block;background:linear-gradient(90deg,#ff4d4d,#4da6ff,#ffd84d 70%,#47d16a);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 0 18px rgba(255,255,255,.1);position:relative}.start-title .title-elemental:after{content:"";position:absolute;inset:-6px -12px;background:linear-gradient(110deg,#fff0,#ffffff29 40%,#fff0 62%);transform:translate(-120%);filter:blur(2px);opacity:.75;animation:titleShimmer 2.8s ease-in-out infinite;pointer-events:none}@keyframes titleShimmer{0%{transform:translate(-120%);opacity:0}18%{opacity:.45}50%{opacity:.7}82%{opacity:.3}to{transform:translate(120%);opacity:0}}.start-title .title-blocks{display:inline-block;color:#fff;text-shadow:0 0 12px rgba(255,255,255,.7),0 0 28px rgba(160,190,220,.5),0 18px 38px rgba(0,0,0,.7);font-weight:950;letter-spacing:4px}.start-subtitle{margin-top:10px;color:#8fa8c8;font-size:12px;letter-spacing:.12em;text-transform:uppercase;opacity:.95}.start-stats{position:relative;z-index:1;margin-top:8px;display:flex;flex-direction:column;align-items:center;gap:8px;color:#b6c9e6}.stat-row{display:flex;align-items:center;gap:8px;font-weight:700}.stat-icon{opacity:.9}.best-label,.best-value{color:#ffd84d;text-shadow:0 0 10px rgba(255,216,77,.18)}.stat-extra{color:#8fa8c8;font-weight:600}.section-title{margin-top:28px;text-align:center;font-size:11px;color:#8fa8c8;letter-spacing:.18em;text-transform:uppercase;position:relative;z-index:1;font-weight:600}.mode-grid{position:relative;z-index:1;margin-top:10px;display:grid;gap:10px}.mode-btn{-webkit-appearance:none;appearance:none;width:100%;text-align:left;padding:14px 14px 12px;border-radius:22px;border:1px solid rgba(160,190,220,.18);background:#0a0f168c;box-shadow:0 18px 44px #0006;cursor:pointer;user-select:none;position:relative;overflow:hidden;transition:transform .12s ease,border-color .12s ease,box-shadow .12s ease,background .12s ease;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:inherit}.mode-btn:focus{outline:none}.mode-btn:active{transform:translateY(1px)}.mode-glow{position:absolute;inset:-30%;z-index:0;background:radial-gradient(circle at 50% 18%,rgba(var(--accRGB),.4),#0000 60%);opacity:0;transition:opacity .14s ease;pointer-events:none;filter:blur(10px)}.mode-btn:not(.active){border-color:#a0bedc2e;box-shadow:0 18px 44px #0006;background:#0a0f168c}.mode-btn:not(.active) .mode-glow{opacity:0;background:transparent}.mode-btn.active{border-color:rgba(var(--accRGB),.5);box-shadow:0 18px 44px #00000073,0 0 28px rgba(var(--accRGB),.3),inset 0 1px #ffffff1a;background:radial-gradient(450px 200px at 50% 0%,rgba(var(--accRGB),.15),#0000 65%),#0a0f16b3}.mode-btn.active .mode-glow{opacity:1}.mode-top{display:flex;align-items:center;justify-content:flex-start;gap:12px}.mode-name{font-size:14px;font-weight:850;color:#b6c9e6;letter-spacing:.1em;text-transform:uppercase;opacity:.95}.mode-sub{margin-top:8px;color:#8fa8c8;font-size:12px;display:flex;gap:8px;flex-wrap:wrap}.mode-tag{display:inline-block;padding:5px 10px;border-radius:999px;border:1px solid rgba(160,190,220,.16);background:#0a0f1666;color:#b6c9e6;font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}.mode-tag.acc{border-color:#a0bedc29;background:#0a0f1666;color:#b6c9e6;box-shadow:none}.mode-btn.active .mode-tag.acc{border-color:rgba(var(--accRGB),.5);background:rgba(var(--accRGB),.2);box-shadow:0 0 12px rgba(var(--accRGB),.25);color:#fff}.start-actions{position:relative;z-index:1;margin-top:24px;display:grid;gap:10px;justify-items:center}.start-btn{-webkit-appearance:none;appearance:none;position:relative;width:180px;height:56px;border-radius:18px;border:1px solid rgba(160,190,220,.28);background:#0c121cd9;color:#fff;font:900 20px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;letter-spacing:.06em;cursor:pointer;overflow:hidden;box-shadow:0 18px 44px #0000008c,inset 0 0 0 1px #ffffff0a;transition:transform .12s ease,box-shadow .12s ease,border-color .12s ease}.start-btn:focus{outline:none}.start-btn:active{transform:translateY(1px) scale(.98)}.start-text{position:relative;z-index:2;text-shadow:0 2px 6px rgba(0,0,0,.6),0 0 12px rgba(255,255,255,.35)}.start-glow{position:absolute;inset:-40%;z-index:1;background:radial-gradient(circle at 50% 35%,rgba(255,77,77,.22),transparent 55%),radial-gradient(circle at 25% 65%,rgba(77,166,255,.18),transparent 60%),radial-gradient(circle at 75% 65%,rgba(255,216,77,.18),transparent 60%);opacity:.85;filter:blur(18px);transition:opacity .2s ease}@keyframes startPulse{0%,to{transform:translateY(0) scale(1);box-shadow:0 16px 36px #00000073}50%{transform:translateY(-1px) scale(1.03);box-shadow:0 26px 56px #000000a6}}.side-menu{position:absolute;top:20px;left:16px;z-index:2;display:flex;flex-direction:column;gap:12px}.side-btn{-webkit-appearance:none;appearance:none;width:40px;height:40px;padding:0;border:1.5px solid rgba(160,190,220,.3);border-radius:50%;background:transparent;color:#8fa8c8;font-size:18px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:transparent;transition:border-color .12s ease,color .12s ease}.side-btn:focus{outline:none}.side-btn:active{border-color:#a0bedc80;color:#e6f0ff}.start-version{position:absolute;top:16px;right:16px;z-index:1;font-size:11px;color:#5a7090f2;opacity:.95}.panel-btn{-webkit-appearance:none;appearance:none;margin-top:10px;padding:12px 24px;border-radius:18px;border:1px solid rgba(160,190,220,.28);background:#0c121cd9;color:#fff;font:900 18px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;cursor:pointer;box-shadow:0 18px 44px #0000008c,inset 0 0 0 1px #ffffff0a;transition:transform .12s ease,border-color .12s ease}.panel-btn:focus{outline:none}.panel-btn:active{transform:translateY(1px) scale(.98)}@media(max-width:480px),(hover:none){.overlay{align-items:stretch;padding:0}.start-panel{width:100%;max-width:none;max-height:none;height:100%;min-height:100%;padding:20px 16px 32px;padding-bottom:calc(32px + env(safe-area-inset-bottom,0));padding-top:calc(20px + env(safe-area-inset-top,0));border-radius:0;display:flex;flex-direction:column}.start-title{padding-top:50px;flex-shrink:0}.start-title h1{font-size:42px}.start-subtitle{font-size:11px}.start-stats{margin-top:10px;gap:6px;flex-shrink:1;min-height:0}.section-title{margin-top:28px;font-size:10px}.mode-grid{margin-top:8px;gap:8px;flex-shrink:1;min-height:0}.mode-btn{min-height:52px;padding:12px 14px 10px;border-radius:18px}.mode-sub{margin-top:6px;gap:6px}.mode-tag{padding:6px 10px;font-size:11px}.start-actions{margin-top:40px;padding-top:0;padding-bottom:0;flex-shrink:0}.start-version{top:calc(16px + env(safe-area-inset-top,0));right:calc(16px + env(safe-area-inset-right,0))}.start-btn{width:100%;max-width:200px;min-height:52px;height:52px}.side-menu{top:calc(16px + env(safe-area-inset-top,0));left:calc(12px + env(safe-area-inset-left,0));gap:10px}.side-btn{width:44px;height:44px}}@media(max-width:480px),(hover:none){#settingsOverlay{align-items:stretch;padding:0}#settingsOverlay .settings-panel{width:100%;max-width:none;height:100%;min-height:100%;border-radius:0;padding:18px;padding-top:calc(18px + env(safe-area-inset-top,0));padding-bottom:calc(18px + env(safe-area-inset-bottom,0))}.settings-content{padding:16px 20px 120px;overflow-y:auto;-webkit-overflow-scrolling:touch}.settings-title{font-size:28px;margin-top:40px;margin-bottom:20px}.settings-actions{bottom:calc(60px + env(safe-area-inset-bottom,0))}.settings-action-circle{width:58px;height:58px;font-size:24px}}@media(prefers-reduced-motion:reduce){.menu-aura,.menu-aura:after,.spark-layer,.pento,.start-title .title-elemental:after,.start-btn.idlePulse{animation:none!important}}@media(display-mode:standalone){.pause-actions,.settings-actions,.gameover-actions{bottom:calc(80px + env(safe-area-inset-bottom,20px))}}@media(display-mode:standalone)and (max-width:768px){.pause-actions,.settings-actions,.gameover-actions{bottom:max(80px,calc(60px + env(safe-area-inset-bottom,20px)))}}
